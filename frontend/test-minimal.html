<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Minimal Tab Test</title>
<style>
body {
    background: #0a0e27;
    color: white;
    font-family: sans-serif;
    padding: 40px;
}

.tab-panel {
    display: none !important;
    border: 3px solid red;
    padding: 20px;
    margin: 20px 0;
    background: rgba(255,255,255,0.1);
}

.tab-panel.active {
    display: block !important;
    border: 3px solid green;
}

button {
    padding: 10px 20px;
    margin: 5px;
    font-size: 16px;
    cursor: pointer;
}

#debug {
    background: yellow;
    color: black;
    padding: 15px;
    margin: 20px 0;
    font-family: monospace;
    white-space: pre-wrap;
}
</style>
</head>
<body>

<h1>MINIMAL TAB TEST</h1>

<div>
    <button onclick="switchTab('tab1', this)">Show Tab 1</button>
    <button onclick="switchTab('tab2', this)">Show Tab 2</button>
    <button onclick="switchTab('tab3', this)">Show Tab 3</button>
</div>

<div id="debug"></div>

<div id="tab1" class="tab-panel active">
    <h2>TAB 1 CONTENT</h2>
    <p>If you see this with GREEN border, tab 1 is showing</p>
</div>

<div id="tab2" class="tab-panel">
    <h2>TAB 2 CONTENT</h2>
    <p>If you see this with GREEN border, tab 2 is showing</p>
</div>

<div id="tab3" class="tab-panel">
    <h2>TAB 3 CONTENT</h2>
    <p>If you see this with GREEN border, tab 3 is showing</p>
</div>

<script>
let callCount = 0;

function switchTab(tabName, btn) {
    callCount++;
    const debug = document.getElementById('debug');
    debug.innerHTML = `Call #${callCount} - Switching to: ${tabName}\n`;

    // Remove active from all panels
    const panels = document.querySelectorAll('.tab-panel');
    debug.innerHTML += `Found ${panels.length} panels\n`;

    panels.forEach(panel => {
        panel.classList.remove('active');
        debug.innerHTML += `Removed active from: ${panel.id}\n`;
    });

    // Add active to target
    const target = document.getElementById(tabName);
    if (target) {
        target.classList.add('active');
        debug.innerHTML += `Added active to: ${tabName}\n`;
        debug.innerHTML += `Has active class: ${target.classList.contains('active')}\n`;

        setTimeout(() => {
            const computed = window.getComputedStyle(target);
            debug.innerHTML += `Computed display: ${computed.display}\n`;
        }, 100);
    } else {
        debug.innerHTML += `ERROR: Panel ${tabName} not found!\n`;
    }
}

// Check on page load
window.addEventListener('DOMContentLoaded', () => {
    const debug = document.getElementById('debug');
    debug.innerHTML = 'Page loaded.\n';
    debug.innerHTML += `Active panels: ${document.querySelectorAll('.tab-panel.active').length}\n`;
});
</script>

</body>
</html>
